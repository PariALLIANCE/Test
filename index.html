<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P.Soft Store</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#6366F1',
                        secondary: '#8B5CF6',
                        accent: '#06B6D4',
                        surface: '#1E293B',
                        'surface-light': '#334155',
                        'text-primary': '#F8FAFC',
                        'text-secondary': '#94A3B8'
                    },
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', 'sans-serif']
                    },
                    backdropBlur: {
                        'xs': '2px',
                    }
                }
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(135deg, #0F172A 0%, #1E293B 50%, #334155 100%);
            background-attachment: fixed;
        }
        
        .glass {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .glass-strong {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .app-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .app-card:hover {
            transform: translateY(-2px);
            background: rgba(255, 255, 255, 0.08);
        }
        
        .app-item {
            transition: all 0.2s ease;
            cursor: pointer;
        }
        
        .app-item:hover {
            background: rgba(255, 255, 255, 0.08);
        }
        
        .floating-action {
            background: linear-gradient(135deg, #6366F1 0%, #8B5CF6 100%);
            box-shadow: 0 8px 25px rgba(99, 102, 241, 0.4);
        }
        
        .feature-gradient {
            background: linear-gradient(135deg, #06B6D4 0%, #3B82F6 50%, #8B5CF6 100%);
        }
        
        .scroll-container {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .scroll-container::-webkit-scrollbar {
            display: none;
        }
        
        .nav-indicator {
            transition: all 0.3s ease;
            height: 3px;
            background: linear-gradient(90deg, #6366F1, #8B5CF6);
            border-radius: 999px;
        }
        
        .search-glow {
            box-shadow: 0 0 0 1px rgba(99, 102, 241, 0.3), 0 0 20px rgba(99, 102, 241, 0.2);
        }
        
        .category-chip {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, 0.12);
            transition: all 0.2s ease;
        }
        
        .category-chip.active {
            background: linear-gradient(135deg, #6366F1, #8B5CF6);
            border-color: transparent;
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.4);
        }

        .app-icon {
            border-radius: 22%;
        }

        .content-container {
            padding-bottom: 80px;
            max-height: calc(100vh - 140px);
            overflow-y: auto;
        }

        .search-content-container {
            padding-bottom: 80px;
            max-height: calc(100vh - 80px);
            overflow-y: auto;
        }

        .detail-content-container {
            padding-bottom: 80px;
            max-height: calc(100vh - 80px);
            overflow-y: auto;
        }

        .download-btn {
            background: linear-gradient(135deg, #10B981 0%, #059669 100%);
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.4);
        }

        .download-btn:hover {
            box-shadow: 0 6px 20px rgba(16, 185, 129, 0.6);
        }

        .screenshot-container {
            display: flex;
            gap: 12px;
            overflow-x: auto;
            padding: 16px 0;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .screenshot-container::-webkit-scrollbar {
            display: none;
        }

        .screenshot {
            flex-shrink: 0;
            width: 200px;
            height: 360px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Auth screen styles */
        .auth-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #0F172A 0%, #1E293B 50%, #334155 100%);
            color: #F8FAFC;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }
        
        .auth-header {
            padding: 40px 0 20px;
            text-align: center;
        }
        
        .auth-logo {
            font-size: 50px;
            color: #6366F1;
            margin-bottom: 15px;
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .auth-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #6366F1;
        }
        
        .auth-subtitle {
            font-size: 16px;
            color: #94A3B8;
            margin-bottom: 20px;
            padding: 0 20px;
            text-align: center;
        }
        
        .auth-tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: none;
        }
        
        .auth-tab {
            flex: 1;
            text-align: center;
            padding: 15px 0;
            font-weight: bold;
            cursor: pointer;
            position: relative;
            color: #94A3B8;
            transition: color 0.3s, background-color 0.2s ease;
        }
        
        .auth-tab.active {
            color: #6366F1;
        }
        
        .auth-tab.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 25%;
            width: 50%;
            height: 3px;
            background-color: #6366F1;
            border-radius: 3px 3px 0 0;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from { transform: scaleX(0); }
            to { transform: scaleX(1); }
        }
        
        .auth-form {
            padding: 20px;
            display: none;
            animation: fadeUp 0.5s ease;
        }
        
        @keyframes fadeUp {
            from { 
                opacity: 0;
                transform: translateY(20px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .auth-form.active {
            display: block;
        }
        
        .form-group {
            margin-bottom: 20px;
            position: relative;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            font-size: 14px;
            color: #F8FAFC;
        }
        
        .form-input {
            width: 100%;
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            font-size: 16px;
            color: #F8FAFC;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
            outline: none;
        }
        
        .form-input:focus {
            border-color: #6366F1;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.25);
        }
        
        .form-input::placeholder {
            color: #94A3B8;
        }
        
        .form-error {
            color: #ff4842;
            font-size: 13px;
            margin-top: 6px;
            display: none;
            animation: shakeX 0.75s ease;
        }
        
        @keyframes shakeX {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-4px); }
            20%, 40%, 60%, 80% { transform: translateX(4px); }
        }
        
        .button {
            background: linear-gradient(135deg, #6366F1 0%, #8B5CF6 100%);
            color: white;
            border: none;
            border-radius: 10px;
            padding: 15px;
            font-size: 16px;
            font-weight: bold;
            width: 100%;
            margin-top: 20px;
            cursor: pointer;
            transition: transform 0.15s ease, opacity 0.2s ease;
            position: relative;
            overflow: hidden;
        }
        
        .button:active {
            transform: scale(0.98);
            opacity: 0.9;
        }
        
        .button:hover {
            background: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%);
        }

        .button:disabled {
            background: rgba(255, 255, 255, 0.1);
            color: #94A3B8;
            cursor: not-allowed;
        }

        .log-message {
            margin-top: 15px;
            padding: 12px;
            font-weight: bold;
            border-radius: 6px;
            white-space: pre-line;
            text-align: center;
            animation: fadeIn 0.5s ease;
        }
          
        .log-message.info {
            background: rgba(59, 130, 246, 0.1);
            color: #3B82F6;
            border: 1px solid rgba(59, 130, 246, 0.2);
        }
          
        .log-message.success {
            background: rgba(34, 197, 94, 0.1);
            color: #22C55E;
            border: 1px solid rgba(34, 197, 94, 0.2);
        }
          
        .log-message.error {
            background: rgba(239, 68, 68, 0.1);
            color: #EF4444;
            border: 1px solid rgba(239, 68, 68, 0.2);
        }

        .btn-loader {
            display: inline-block;
            width: 20px;
            height: 20px;
            margin-right: 8px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 0.8s linear infinite;
            vertical-align: middle;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .button.loading {
            pointer-events: none;
            opacity: 0.8;
        }
        
        .button.loading .btn-text {
            visibility: hidden;
        }
        
        .button.loading .btn-loader {
            position: absolute;
            top: 50%;
            left: 50%;
            margin-top: -10px;
            margin-left: -10px;
            visibility: visible;
        }

        .form-footer {
            margin-top: 30px;
            text-align: center;
        }
        
        .form-footer-text {
            margin-top: 15px;
            font-size: 14px;
            color: #94A3B8;
        }
        
        .form-link {
            color: #6366F1;
            text-decoration: none;
            font-weight: bold;
            transition: color 0.2s;
        }
        
        .form-link:hover {
            text-decoration: underline;
            color: #4F46E5;
        }

        .loading {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #0F172A 0%, #1E293B 50%, #334155 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 999;
            color: #F8FAFC;
        }
        
        .loading-spinner-main {
            font-size: 60px;
            color: #6366F1;
            animation: pulse 2s infinite, bounce 1.5s infinite;
            margin-bottom: 20px;
            text-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-20px); }
            60% { transform: translateY(-10px); }
        }

        .notification {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            opacity: 0;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            color: #F8FAFC;
            padding: 12px 20px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            font-weight: 500;
            z-index: 1000;
            max-width: 90%;
            text-align: center;
            line-height: 1.4;
            transition: opacity 0.3s ease, transform 0.3s ease;
            pointer-events: none;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .notification.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
            pointer-events: auto;
        }

        .notification.success {
            background: rgba(34, 197, 94, 0.1);
            color: #22C55E;
            border-color: rgba(34, 197, 94, 0.3);
        }

        .notification.error {
            background: rgba(239, 68, 68, 0.1);
            color: #EF4444;
            border-color: rgba(239, 68, 68, 0.3);
        }

        .notification.info {
            background: rgba(99, 102, 241, 0.1);
            color: #6366F1;
            border-color: rgba(99, 102, 241, 0.3);
        }

        /* Main app hidden by default */
        .main-app {
            display: none;
        }

        .main-app.active {
            display: block;
        }

        @media (max-width: 480px) {
            .auth-header {
                padding: 20px 0 15px;
            }
            
            .auth-logo {
                font-size: 40px;
            }
            
            .auth-title {
                font-size: 20px;
            }
        }
    </style>
</head>
<body class="min-h-screen text-text-primary font-sans">
    <!-- Loading Screen -->
    <div id="loading" class="loading">
        <div class="loading-spinner-main">
            <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-secondary flex items-center justify-content: center; shadow-lg">
                <svg class="w-10 h-10 text-white" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M13.5 2c-5.621 0-10.211 4.443-10.475 10H2c-.552 0-1 .5-1 1s.448 1 1 1h1.025c.264 5.557 4.854 10 10.475 10 5.621 0 10.211-4.443 10.475-10H25c.552 0 1-.5 1-1s-.448-1-1-1h-1.025c-.264-5.557-4.854-10-10.475-10zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"/>
                </svg>
            </div>
        </div>
        <div style="font-weight: bold; font-size: 24px; color: #6366F1; margin-top: 20px;">P.Soft Store</div>
        <div style="margin-top: 10px; color: #94A3B8;">Chargement...</div>
    </div>

    <!-- Auth Screen -->
    <div id="auth-screen" class="auth-screen">
        <div class="auth-header">
            <div class="auth-logo">
                <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center shadow-lg mx-auto">
                    <svg class="w-10 h-10 text-white" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M13.5 2c-5.621 0-10.211 4.443-10.475 10H2c-.552 0-1 .5-1 1s.448 1 1 1h1.025c.264 5.557 4.854 10 10.475 10 5.621 0 10.211-4.443 10.475-10H25c.552 0 1-.5 1-1s-.448-1-1-1h-1.025c-.264-5.557-4.854-10-10.475-10zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"/>
                    </svg>
                </div>
            </div>
            <h1 class="auth-title">P.Soft Store</h1>
            <p class="auth-subtitle">Applications logicielles innovantes</p>
        </div>
        
        <div class="auth-tabs">
            <div class="auth-tab active" id="login-tab">Connexion</div>
            <div class="auth-tab" id="register-tab">Inscription</div>
        </div>
        
        <div id="login-form" class="auth-form active">
            <div class="form-group">
                <label class="form-label">Email</label>
                <input type="email" class="form-input" id="login-email" placeholder="Votre email">
                <div id="login-email-error" class="form-error">Veuillez entrer un email valide</div>
            </div>
            
            <div class="form-group">
                <label class="form-label">Mot de passe</label>
                <input type="password" class="form-input" id="login-password" placeholder="Votre mot de passe">
                <div id="login-password-error" class="form-error">Le mot de passe est obligatoire</div>
            </div>
            
            <div id="login-log" class="log-message" style="display:none;"></div>

            <div class="form-footer">
                <button class="button" id="loginBtn">
                    <span class="btn-loader" style="display:none;"></span>
                    <span class="btn-text">Se connecter</span>
                </button>
                <p class="form-footer-text">
                    Vous n'avez pas de compte ? <a href="#" class="form-link" id="goto-register">S'inscrire</a>
                </p>
            </div>
        </div>
        
        <div id="register-form" class="auth-form">
            <div class="form-group">
                <label class="form-label">Email</label>
                <input type="email" class="form-input" id="register-email" placeholder="Votre adresse email">
                <div id="register-email-error" class="form-error">Veuillez entrer un email valide</div>
            </div>
            
            <div class="form-group">
                <label class="form-label">Mot de passe</label>
                <input type="password" class="form-input" id="register-password" placeholder="Créez un mot de passe sécurisé">
                <div id="register-password-error" class="form-error">Le mot de passe doit contenir au moins 6 caractères</div>
            </div>
            
            <div class="form-group">
                <label class="form-label">Confirmer le mot de passe</label>
                <input type="password" class="form-input" id="register-confirm-password" placeholder="Confirmez votre mot de passe">
                <div id="register-confirm-password-error" class="form-error">Les mots de passe ne correspondent pas</div>
            </div>
            
            <div id="register-log" class="log-message" style="display:none;"></div>

            <div class="form-footer">
                <button class="button" id="registerBtn">
                    <span class="btn-loader" style="display:none;"></span>
                    <span class="btn-text">S'inscrire</span>
                </button>
                <p class="form-footer-text">
                    Vous avez déjà un compte ? <a href="#" class="form-link" id="goto-login">Se connecter</a>
                </p>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="main-app" class="main-app">
        <!-- Header principal avec logo pour Nouveautés -->
        <header id="main-header" class="glass-strong sticky top-0 z-50 backdrop-blur-xl">
            <div class="px-6 py-4">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-3">
                        <div class="relative">
                            <div class="w-12 h-12 rounded-2xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center shadow-lg">
                                <svg class="w-7 h-7 text-white" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M13.5 2c-5.621 0-10.211 4.443-10.475 10H2c-.552 0-1 .5-1 1s.448 1 1 1h1.025c.264 5.557 4.854 10 10.475 10 5.621 0 10.211-4.443 10.475-10H25c.552 0 1-.5 1-1s-.448-1-1-1h-1.025c-.264-5.557-4.854-10-10.475-10zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"/>
                                </svg>
                            </div>
                            <div class="absolute -top-1 -right-1 w-4 h-4 bg-accent rounded-full border-2 border-slate-900"></div>
                        </div>
                        <div>
                            <h1 class="text-xl font-bold bg-gradient-to-r from-text-primary to-text-secondary bg-clip-text">P.Soft Store</h1>
                            <p class="text-sm text-text-secondary">Applications logicielles</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-3">
                        <button class="p-2 rounded-xl glass hover:glass-strong transition-all">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5 5v-5zM10.621 8.137l-.621-.637-.707.708-1.414-1.414L11 4.686l3.536 3.535-1.414 1.414-.707-.708-.621.637c-1.353 1.376-1.353 3.583 0 4.959l1.328 1.329-1.414 1.414-1.328-1.329c-2.134-2.157-2.134-5.6 0-7.757z"/>
                            </svg>
                        </button>
                        <button id="user-avatar" class="w-8 h-8 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center text-sm font-semibold cursor-pointer hover:shadow-lg transition-all">
                            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                            </svg>
                        </button>
                        <button id="logout-btn" class="p-2 rounded-xl glass hover:glass-strong transition-all">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Header de recherche -->
        <header id="search-header" class="hidden glass-strong sticky top-0 z-50 backdrop-blur-xl">
            <div class="px-6 py-4">
                <div class="flex items-center space-x-4">
                    <button id="back-btn" class="p-2 rounded-xl glass hover:glass-strong transition-all">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                        </svg>
                    </button>
                    <div class="flex-1 relative">
                        <input 
                            type="text" 
                            id="search-input" 
                            placeholder="Rechercher des applications..." 
                            class="w-full px-4 py-3 bg-white bg-opacity-5 border border-white border-opacity-10 rounded-2xl text-base text-text-primary placeholder-text-secondary focus:outline-none focus:border-primary focus:search-glow transition-all"
                        >
                        <div class="absolute right-3 top-1/2 transform -translate-y-1/2">
                            <svg class="w-5 h-5 text-text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Header de détails d'application (logos/noms supprimés) -->
        <header id="detail-header" class="hidden glass-strong sticky top-0 z-50 backdrop-blur-xl">
            <div class="px-6 py-4">
                <div class="flex items-center space-x-4">
                    <button id="detail-back-btn" class="p-2 rounded-xl glass hover:glass-strong transition-all">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                        </svg>
                    </button>
                    <div class="flex items-center space-x-3 flex-1">
                        <div>
                            <h1 class="text-lg font-semibold">Détails de l'application</h1>
                            <p class="text-sm text-text-secondary">P.Soft Store</p>
                        </div>
                    </div>
                    <button class="p-2 rounded-xl glass hover:glass-strong transition-all">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"/>
                        </svg>
                    </button>
                </div>
            </div>
        </header>

        <!-- Contenu principal -->
        <main class="pb-24">
            <!-- Section Nouveautés avec header -->
            <section id="featured-section" class="content-container">
                <div class="px-6 py-6 space-y-6">
                    <!-- Applications en vedette -->
                    <div class="space-y-4">
                        <h2 class="text-2xl font-bold">Applications en vedette</h2>
                        
                        <!-- Grande carte featured -->
                        <div class="relative rounded-3xl overflow-hidden feature-gradient p-8 text-white">
                            <div class="relative z-10">
                                <div class="flex items-center space-x-3 mb-4">
                                    <div class="w-16 h-16 bg-white bg-opacity-20 rounded-2xl flex items-center justify-center">
                                        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <h3 class="text-xl font-bold">Vision AI Pro</h3>
                                        <p class="opacity-90">Reconnaissance d'images avancée</p>
                                    </div>
                                </div>
                                <p class="text-sm opacity-80 mb-6 leading-relaxed">
                                    Analysez et comprenez vos images avec une précision inégalée grâce à notre IA de vision la plus avancée.
                                </p>
                                <button class="px-6 py-3 bg-white bg-opacity-20 rounded-2xl font-medium hover:bg-opacity-30 transition-all">
                                    Découvrir maintenant
                                </button>
                            </div>
                            <div class="absolute top-0 right-0 w-32 h-32 bg-white bg-opacity-10 rounded-full transform translate-x-16 -translate-y-16"></div>
                            <div class="absolute bottom-0 left-0 w-24 h-24 bg-white bg-opacity-5 rounded-full transform -translate-x-12 translate-y-12"></div>
                        </div>
                        
                        <!-- Grille d'applications populaires -->
                        <div class="grid grid-cols-2 gap-4">
                            <div class="glass rounded-2xl p-6 hover:glass-strong transition-all">
                                <div class="w-12 h-12 bg-gradient-to-br from-green-400 to-emerald-500 rounded-2xl flex items-center justify-center mb-4">
                                    <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                                    </svg>
                                </div>
                                <h3 class="font-semibold mb-1">Analytics Pro</h3>
                                <p class="text-sm text-text-secondary mb-3">Données avancées</p>
                                <div class="flex items-center text-xs text-text-secondary">
                                    <span class="text-yellow-400 mr-1">4.8</span>
                                    <span>★</span>
                                </div>
                            </div>
                            
                            <div class="glass rounded-2xl p-6 hover:glass-strong transition-all">
                                <div class="w-12 h-12 bg-gradient-to-br from-purple-400 to-pink-500 rounded-2xl flex items-center justify-center mb-4">
                                    <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M13 10V3L4 14h7v7l9-11h-7z"/>
                                    </svg>
                                </div>
                                <h3 class="font-semibold mb-1">QuickBot</h3>
                                <p class="text-sm text-text-secondary mb-3">Assistant IA</p>
                                <div class="flex items-center text-xs">
                                    <span class="text-green-400 font-medium">Installé</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Autres banners promotionnelles -->
                        <div class="bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl p-6 text-white relative overflow-hidden">
                            <div class="relative z-10">
                                <h2 class="text-2xl font-bold mb-2">Analytics Pro</h2>
                                <p class="text-sm opacity-90 mb-4">Analyses prédictives avancées pour tous vos projets</p>
                                <div class="bg-white bg-opacity-20 px-4 py-2 rounded-lg inline-block">
                                    <span class="text-sm font-medium">Installer</span>
                                </div>
                            </div>
                            <div class="absolute right-4 top-4 w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center">
                                <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                                </svg>
                            </div>
                        </div>

                        <div class="bg-gradient-to-r from-orange-500 to-red-500 rounded-2xl p-6 text-white relative overflow-hidden">
                            <div class="relative z-10">
                                <h2 class="text-2xl font-bold mb-2">Promo Limitée</h2>
                                <p class="text-sm opacity-90 mb-4">50% de réduction sur toutes les apps premium ce mois-ci</p>
                                <div class="bg-white bg-opacity-20 px-4 py-2 rounded-lg inline-block">
                                    <span class="text-sm font-medium">Voir les offres</span>
                                </div>
                            </div>
                            <div class="absolute right-4 top-4 w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center">
                                <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section Applications avec liste compacte style 0.5 -->
            <section id="apps-section" class="hidden content-container">
                <div class="px-6 py-6">
                    <!-- Liste des applications style 0.5 -->
                    <div class="space-y-1">
                        <!-- PronoPredict Pro -->
                        <div class="app-item flex items-center py-3 rounded-lg transition-colors" data-app="pronopredictpro">
                            <div class="w-14 h-14 bg-gradient-to-br from-blue-500 to-purple-600 app-icon flex items-center justify-center mr-4">
                                <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                </svg>
                            </div>
                            <div class="flex-1">
                                <h3 class="text-white font-medium text-base">PronoPredict Pro</h3>
                                <p class="text-text-secondary text-sm">P.Soft Store • Sport</p>
                                <div class="flex items-center text-xs text-text-secondary mt-1">
                                    <span class="flex items-center">
                                        <span class="text-yellow-400 mr-1">4.8</span>
                                        <svg class="w-3 h-3 text-yellow-400 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                        </svg>
                                    </span>
                                    <span class="mr-2">•</span>
                                    <span class="mr-2">15 MB</span>
                                    <span class="mr-2">•</span>
                                    <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                                    </svg>
                                    <span>100k+</span>
                                </div>
                            </div>
                        </div>

                        <!-- Analytics AI -->
                        <div class="app-item flex items-center py-3 rounded-lg transition-colors" data-app="analyticsai">
                            <div class="w-14 h-14 bg-gradient-to-br from-green-500 to-teal-600 app-icon flex items-center justify-center mr-4">
                                <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                                </svg>
                            </div>
                            <div class="flex-1">
                                <h3 class="text-white font-medium text-base">Analytics AI</h3>
                                <p class="text-text-secondary text-sm">P.Soft Store • Analytics</p>
                                <div class="flex items-center text-xs text-text-secondary mt-1">
                                    <span class="flex items-center">
                                        <span class="text-yellow-400 mr-1">4.6</span>
                                        <svg class="w-3 h-3 text-yellow-400 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                        </svg>
                                    </span>
                                    <span class="mr-2">•</span>
                                    <span class="mr-2">22 MB</span>
                                    <span class="mr-2">•</span>
                                    <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                                    </svg>
                                    <span>50k+</span>
                                </div>
                            </div>
                        </div>

                        <!-- QuickBot Assistant -->
                        <div class="app-item flex items-center py-3 rounded-lg transition-colors" data-app="quickbot">
                            <div class="w-14 h-14 bg-gradient-to-br from-red-500 to-pink-600 app-icon flex items-center justify-center mr-4">
                                <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M13 10V3L4 14h7v7l9-11h-7z"/>
                                </svg>
                            </div>
                            <div class="flex-1">
                                <h3 class="text-white font-medium text-base">QuickBot Assistant</h3>
                                <p class="text-text-secondary text-sm">P.Soft Store • Productivité</p>
                                <div class="flex items-center text-xs text-green-400 mt-1">
                                    <span>Installé</span>
                                </div>
                            </div>
                        </div>

                        <!-- Smart Predictor -->
                        <div class="app-item flex items-center py-3 rounded-lg transition-colors" data-app="smartpredictor">
                            <div class="w-14 h-14 bg-gradient-to-br from-indigo-500 to-purple-600 app-icon flex items-center justify-center mr-4">
                                <span class="text-white font-bold text-lg">SP</span>
                            </div>
                            <div class="flex-1">
                                <h3 class="text-white font-medium text-base">Smart Predictor</h3>
                                <p class="text-text-secondary text-sm">P.Soft Store • Sport</p>
                                <div class="flex items-center text-xs text-text-secondary mt-1">
                                    <span class="flex items-center">
                                        <span class="text-yellow-400 mr-1">4.5</span>
                                        <svg class="w-3 h-3 text-yellow-400 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                        </svg>
                                    </span>
                                    <span class="mr-2">•</span>
                                    <span class="mr-2">18 MB</span>
                                    <span class="mr-2">•</span>
                                    <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                                    </svg>
                                    <span>25k+</span>
                                </div>
                            </div>
                        </div>

                        <!-- Data Analyzer -->
                        <div class="app-item flex items-center py-3 rounded-lg transition-colors" data-app="dataanalyzer">
                            <div class="w-14 h-14 bg-gradient-to-br from-emerald-500 to-cyan-600 app-icon flex items-center justify-center mr-4">
                                <span class="text-white font-bold text-lg">DA</span>
                            </div>
                            <div class="flex-1">
                                <h3 class="text-white font-medium text-base">Data Analyzer</h3>
                                <p class="text-text-secondary text-sm">P.Soft Store • Analytics</p>
                                <div class="flex items-center text-xs text-text-secondary mt-1">
                                    <span class="flex items-center">
                                        <span class="text-yellow-400 mr-1">4.7</span>
                                        <svg class="w-3 h-3 text-yellow-400 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                        </svg>
                                    </span>
                                    <span class="mr-2">•</span>
                                    <span class="mr-2">35 MB</span>
                                    <span class="mr-2">•</span>
                                    <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                                    </svg>
                                    <span>75k+</span>
                                </div>
                            </div>
                        </div>

                        <!-- Market Trends -->
                        <div class="app-item flex items-center py-3 rounded-lg transition-colors" data-app="markettrends">
                            <div class="w-14 h-14 bg-gradient-to-br from-orange-500 to-red-600 app-icon flex items-center justify-center mr-4">
                                <span class="text-white font-bold text-lg">MT</span>
                            </div>
                            <div class="flex-1">
                                <h3 class="text-white font-medium text-base">Market Trends</h3>
                                <p class="text-text-secondary text-sm">P.Soft Store • Finance</p>
                                <div class="flex items-center text-xs text-text-secondary mt-1">
                                    <span class="flex items-center">
                                        <span class="text-yellow-400 mr-1">4.3</span>
                                        <svg class="w-3 h-3 text-yellow-400 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                        </svg>
                                    </span>
                                    <span class="mr-2">•</span>
                                    <span class="mr-2">12 MB</span>
                                    <span class="mr-2">•</span>
                                    <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                                    </svg>
                                    <span>10k+</span>
                                </div>
                            </div>
                        </div>

                        <!-- Vision Bot -->
                        <div class="app-item flex items-center py-3 rounded-lg transition-colors" data-app="visionbot">
                            <div class="w-14 h-14 bg-gradient-to-br from-pink-500 to-rose-600 app-icon flex items-center justify-center mr-4">
                                <span class="text-white font-bold text-lg">VB</span>
                            </div>
                            <div class="flex-1">
                                <h3 class="text-white font-medium text-base">Vision Bot</h3>
                                <p class="text-text-secondary text-sm">P.Soft Store • IA & Vision</p>
                                <div class="flex items-center text-xs text-green-400 mt-1">
                                    <span>Installé</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section Recherche -->
            <section id="search-section" class="hidden search-content-container">
                <div class="px-6 py-6">
                    <div id="search-results">
                        <div class="text-center py-16">
                            <div class="w-20 h-20 mx-auto mb-6 glass rounded-3xl flex items-center justify-center">
                                <svg class="w-10 h-10 text-text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                                </svg>
                            </div>
                            <h3 class="text-xl font-semibold mb-2">Rechercher des applications</h3>
                            <p class="text-text-secondary">Découvrez de nouvelles applications</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section Détails d'application -->
            <section id="detail-section" class="hidden detail-content-container">
                <div class="px-6 py-6 space-y-6">
                    <!-- En-tête de l'app avec icône et infos principales -->
                    <div class="flex items-start space-x-4">
                        <div id="detail-app-icon" class="w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 app-icon flex items-center justify-center flex-shrink-0">
                            <svg class="w-12 h-12 text-white" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                        </div>
                        <div class="flex-1 min-w-0">
                            <h1 id="detail-app-title" class="text-2xl font-bold mb-1">PronoPredict Pro</h1>
                            <p id="detail-app-developer" class="text-text-secondary mb-2">P.Soft Store</p>
                            <p id="detail-app-category" class="text-sm text-text-secondary mb-4">Sport • Contient des annonces</p>
                            
                            <!-- Statistiques (sans téléchargements) -->
                            <div class="flex items-center space-x-6 text-sm">
                                <div class="text-center">
                                    <div class="flex items-center space-x-1">
                                        <span id="detail-app-rating" class="font-semibold">4.8</span>
                                        <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                        </svg>
                                    </div>
                                    <p class="text-text-secondary text-xs">Notes</p>
                                </div>
                                <div class="text-center">
                                    <p id="detail-app-size" class="font-semibold">15 MB</p>
                                    <p class="text-text-secondary text-xs">Taille</p>
                                </div>
                                <div class="text-center">
                                    <p class="font-semibold">3+</p>
                                    <p class="text-text-secondary text-xs">Âge</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Bouton de téléchargement -->
                    <div class="w-full">
                        <button id="download-btn" class="w-full download-btn text-white font-semibold py-4 px-6 rounded-2xl transition-all">
                            <div class="flex items-center justify-center space-x-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                                </svg>
                                <span>Télécharger</span>
                            </div>
                        </button>
                    </div>

                    <!-- Captures d'écran -->
                    <div>
                        <h3 class="text-lg font-semibold mb-4">Captures d'écran</h3>
                        <div class="screenshot-container">
                            <div class="screenshot flex items-center justify-center">
                                <svg class="w-16 h-16 text-text-secondary opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                </svg>
                            </div>
                            <div class="screenshot flex items-center justify-center">
                                <svg class="w-16 h-16 text-text-secondary opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                </svg>
                            </div>
                            <div class="screenshot flex items-center justify-center">
                                <svg class="w-16 h-16 text-text-secondary opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                </svg>
                            </div>
                            <div class="screenshot flex items-center justify-center">
                                <svg class="w-16 h-16 text-text-secondary opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <!-- Description -->
                    <div>
                        <h3 class="text-lg font-semibold mb-4">À propos de cette application</h3>
                        <div id="detail-app-description" class="text-text-secondary leading-relaxed">
                            <p class="mb-4">
                                Développez vos compétences en prédiction sportive avec des leçons de prédiction avancées et des analyses détaillées.
                            </p>
                            <p class="mb-4">
                                PronoPredict Pro utilise l'intelligence artificielle pour analyser les données historiques des équipes, les performances des joueurs, et de nombreux autres facteurs pour vous aider à faire des prédictions plus précises.
                            </p>
                            <p class="mb-4">
                                Fonctionnalités principales :
                            </p>
                            <ul class="list-disc list-inside space-y-1 mb-4">
                                <li>Analyses prédictives avancées</li>
                                <li>Données en temps réel</li>
                                <li>Interface intuitive</li>
                                <li>Support multi-sports</li>
                                <li>Historique des prédictions</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Note et avis -->
                    <div>
                        <h3 class="text-lg font-semibold mb-4">Notes et avis</h3>
                        <div class="glass rounded-2xl p-4">
                            <div class="flex items-center justify-between mb-4">
                                <div>
                                    <div class="flex items-center space-x-2 mb-1">
                                        <span class="text-3xl font-bold">4.8</span>
                                        <div class="flex space-x-1">
                                            <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                            </svg>
                                            <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                            </svg>
                                            <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                            </svg>
                                            <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                            </svg>
                                            <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                            </svg>
                                        </div>
                                    </div>
                                    <p class="text-text-secondary text-sm">2,5k avis</p>
                                </div>
                            </div>
                            
                            <!-- Exemple d'avis -->
                            <div class="space-y-4">
                                <div class="border-t border-white border-opacity-10 pt-4">
                                    <div class="flex items-center space-x-3 mb-2">
                                        <div class="w-8 h-8 bg-gradient-to-br from-green-400 to-blue-500 rounded-full flex items-center justify-center">
                                            <span class="text-white text-sm font-semibold">M</span>
                                        </div>
                                        <div>
                                            <p class="font-medium">Marc D.</p>
                                            <div class="flex space-x-1">
                                                <svg class="w-3 h-3 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                                </svg>
                                                <svg class="w-3 h-3 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                                </svg>
                                                <svg class="w-3 h-3 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                                </svg>
                                                <svg class="w-3 h-3 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                                </svg>
                                                <svg class="w-3 h-3 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                                </svg>
                                            </div>
                                        </div>
                                    </div>
                                    <p class="text-text-secondary text-sm">
                                        Excellente application ! Les prédictions sont très précises et l'interface est vraiment intuitive. Je recommande fortement.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Navigation bottom -->
        <nav class="fixed bottom-0 left-0 right-0 glass-strong backdrop-blur-xl border-t border-white border-opacity-10">
            <div class="flex justify-around py-3">
                <button class="nav-tab flex flex-col items-center py-2 px-4 relative" data-tab="featured">
                    <svg class="w-6 h-6 mb-1" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                    </svg>
                    <span class="text-xs font-medium">Nouveautés</span>
                    <div class="nav-indicator absolute bottom-0 left-1/2 transform -translate-x-1/2 w-8"></div>
                </button>
                
                <button class="nav-tab flex flex-col items-center py-2 px-4 relative text-text-secondary" data-tab="apps">
                    <svg class="w-6 h-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                    </svg>
                    <span class="text-xs font-medium">Apps</span>
                    <div class="nav-indicator absolute bottom-0 left-1/2 transform -translate-x-1/2 w-0"></div>
                </button>
                
                <button class="nav-tab flex flex-col items-center py-2 px-4 relative text-text-secondary" data-tab="search">
                    <svg class="w-6 h-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                    </svg>
                    <span class="text-xs font-medium">Recherche</span>
                    <div class="nav-indicator absolute bottom-0 left-1/2 transform -translate-x-1/2 w-0"></div>
                </button>
            </div>
        </nav>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <script type="module">
        // Import Firebase modules
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.7.3/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.7.3/firebase-auth.js";
        import { getFirestore, collection, doc, setDoc, getDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.7.3/firebase-firestore.js";

        // Firebase configuration (same as a14.html)
        const firebaseConfig = {
            apiKey: "AIzaSyDTPLxUiA8lj82kqc6CyCPLQDITc0CtLUE",
            authDomain: "ichat-betai.firebaseapp.com",
            databaseURL: "https://ichat-betai-default-rtdb.firebaseio.com",
            projectId: "ichat-betai",
            storageBucket: "ichat-betai.appspot.com",
            messagingSenderId: "168337722600",
            appId: "1:168337722600:web:beb331f83cc4778c5b4d5d",
            measurementId: "G-STXPSZN7X8"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // Global variables
        let isLoggedIn = false;
        let currentUser = null;
        let currentUserData = null;

        // Dark mode support
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });

        // App data
        const appData = {
            pronopredictpro: {
                name: "PronoPredict Pro",
                developer: "P.Soft Store",
                category: "Sport • Contient des annonces",
                rating: "4.8",
                size: "15 MB",
                downloads: "100k+",
                description: `Développez vos compétences en prédiction sportive avec des leçons de prédiction avancées et des analyses détaillées.

PronoPredict Pro utilise l'intelligence artificielle pour analyser les données historiques des équipes, les performances des joueurs, et de nombreux autres facteurs pour vous aider à faire des prédictions plus précises.

Fonctionnalités principales :
• Analyses prédictives avancées
• Données en temps réel  
• Interface intuitive
• Support multi-sports
• Historique des prédictions`,
                color: "from-blue-500 to-purple-600",
                icon: "check"
            },
            analyticsai: {
                name: "Analytics AI",
                developer: "P.Soft Store",
                category: "Analytics • Contient des annonces",
                rating: "4.6",
                size: "22 MB",
                downloads: "50k+",
                description: `Analyses prédictives avancées pour tous vos projets avec l'intelligence artificielle.

Analytics AI vous permet d'analyser vos données avec des algorithmes d'apprentissage automatique de pointe pour obtenir des insights précieux et prendre des décisions éclairées.

Fonctionnalités principales :
• Machine Learning avancé
• Visualisations interactives
• Rapports automatisés
• Intégration de données
• Prédictions en temps réel`,
                color: "from-green-500 to-teal-600",
                icon: "chart"
            },
            quickbot: {
                name: "QuickBot Assistant",
                developer: "P.Soft Store", 
                category: "Productivité • Installé",
                rating: "4.4",
                size: "8 MB",
                downloads: "200k+",
                description: `Assistant IA intelligent pour automatiser vos tâches quotidiennes et améliorer votre productivité.

QuickBot vous aide à gérer vos tâches, organiser votre emploi du temps et répondre à vos questions avec une intelligence artificielle conversationnelle avancée.

Fonctionnalités principales :
• Assistant conversationnel
• Gestion des tâches
• Planification intelligente
• Intégration calendrier
• Rappels automatiques`,
                color: "from-red-500 to-pink-600",
                icon: "bolt"
            },
            smartpredictor: {
                name: "Smart Predictor",
                developer: "P.Soft Store",
                category: "Sport • Contient des annonces",
                rating: "4.5",
                size: "18 MB", 
                downloads: "25k+",
                description: `Prédictions sportives intelligentes avec analyse de données avancée.

Smart Predictor utilise des algorithmes sophistiqués pour analyser les performances passées et prédire les résultats futurs avec une précision remarquable.

Fonctionnalités principales :
• Algorithmes prédictifs
• Analyse statistique
• Suivi de performance
• Multi-sports
• Interface moderne`,
                color: "from-indigo-500 to-purple-600",
                icon: "text"
            },
            dataanalyzer: {
                name: "Data Analyzer",
                developer: "P.Soft Store",
                category: "Analytics • Contient des annonces", 
                rating: "4.7",
                size: "35 MB",
                downloads: "75k+",
                description: `Analysez vos données avec des outils professionnels et obtenez des insights précieux.

Data Analyzer offre une suite complète d'outils d'analyse de données pour les professionnels et les entreprises qui souhaitent exploiter pleinement leurs données.

Fonctionnalités principales :
• Outils d'analyse avancés
• Visualisations personnalisées
• Export multiple formats
• Collaboration d'équipe
• Sécurité des données`,
                color: "from-emerald-500 to-cyan-600",
                icon: "text"
            },
            markettrends: {
                name: "Market Trends",
                developer: "P.Soft Store",
                category: "Finance • Contient des annonces",
                rating: "4.3", 
                size: "12 MB",
                downloads: "10k+",
                description: `Suivez les tendances du marché financier avec des analyses en temps réel.

Market Trends vous tient informé des dernières évolutions des marchés financiers avec des graphiques interactifs et des alertes personnalisées.

Fonctionnalités principales :
• Données en temps réel
• Alertes personnalisées
• Graphiques interactifs
• Portefeuille virtuel
• Analyses techniques`,
                color: "from-orange-500 to-red-600",
                icon: "text"
            },
            visionbot: {
                name: "Vision Bot", 
                developer: "P.Soft Store",
                category: "IA & Vision • Installé",
                rating: "4.9",
                size: "45 MB",
                downloads: "500k+",
                description: `Reconnaissance d'images et vision par ordinateur avec intelligence artificielle avancée.

Vision Bot utilise les dernières technologies d'IA pour analyser et comprendre le contenu visuel avec une précision exceptionnelle.

Fonctionnalités principales :
• Reconnaissance d'objets
• Analyse de texte dans images
• Classification automatique
• API développeur
• Support multi-formats`,
                color: "from-pink-500 to-rose-600", 
                icon: "text"
            }
        };

        // Navigation state
        let previousTab = 'featured';

        // Utility functions
        function showNotification(message, type = 'info') {
            const notification = document.getElementById('notification');
            if (!notification) return;
            
            notification.classList.remove('show');
            
            setTimeout(() => {
                notification.textContent = message;
                notification.className = 'notification ' + type;
                notification.classList.add('show');
                
                setTimeout(() => {
                    notification.classList.remove('show');
                    
                    setTimeout(() => {
                        notification.className = 'notification';
                        notification.textContent = '';
                    }, 300);
                }, 3000);
            }, 100);
        }

        function showLoading() {
            document.getElementById('loading').style.display = 'flex';
        }

        function hideLoading() {
            document.getElementById('loading').style.display = 'none';
        }

        function showAuthScreen() {
            document.getElementById('auth-screen').style.display = 'flex';
            document.getElementById('main-app').classList.remove('active');
            hideLoading();
        }

        function showMainApp() {
            document.getElementById('auth-screen').style.display = 'none';
            document.getElementById('main-app').classList.add('active');
            hideLoading();
            showTabContent('featured');
        }

        // Auth functions
        function setupAuth() {
            const loginBtn = document.getElementById('loginBtn');
            const registerBtn = document.getElementById('registerBtn');
            const loginTab = document.getElementById('login-tab');
            const registerTab = document.getElementById('register-tab');
            const gotoRegister = document.getElementById('goto-register');
            const gotoLogin = document.getElementById('goto-login');
            
            loginBtn.addEventListener('click', loginUser);
            registerBtn.addEventListener('click', registerUser);
            
            loginTab.addEventListener('click', () => switchAuthTab('login'));
            registerTab.addEventListener('click', () => switchAuthTab('login'));
            gotoRegister.addEventListener('click', (e) => {
                e.preventDefault();
                switchAuthTab('register');
            });
            gotoLogin.addEventListener('click', (e) => {
                e.preventDefault();
                switchAuthTab('login');
            });
            
            onAuthStateChanged(auth, async (user) => {
                if (user) {
                    currentUser = user;
                    isLoggedIn = true;
                    
                    try {
                        await loadUserData();
                        showMainApp();
                        console.log(`Utilisateur connecté: ${user.email}`);
                    } catch (error) {
                        console.error(`Erreur initialisation: ${error.message}`);
                        showNotification("Erreur lors de l'initialisation", "error");
                    }
                } else {
                    isLoggedIn = false;
                    currentUser = null;
                    currentUserData = null;
                    showAuthScreen();
                }
            });
        }

        function switchAuthTab(tab) {
            const loginForm = document.getElementById('login-form');
            const registerForm = document.getElementById('register-form');
            const loginTab = document.getElementById('login-tab');
            const registerTab = document.getElementById('register-tab');
            
            if (tab === 'register') {
                loginForm.classList.remove('active');
                registerForm.classList.add('active');
                loginTab.classList.remove('active');
                registerTab.classList.add('active');
            } else {
                registerForm.classList.remove('active');
                loginForm.classList.add('active');
                registerTab.classList.remove('active');
                loginTab.classList.add('active');
            }
            
            clearAuthErrors();
        }

        function clearAuthErrors() {
            document.querySelectorAll('.form-error').forEach(error => {
                error.style.display = 'none';
            });
            document.querySelectorAll('.log-message').forEach(log => {
                log.style.display = 'none';
            });
        }

        async function loginUser() {
            const email = document.getElementById('login-email').value.trim();
            const password = document.getElementById('login-password').value;
            const button = document.getElementById('loginBtn');
            const logElement = document.getElementById('login-log');
            
            clearAuthErrors();
            
            let hasError = false;
            
            if (!email || !email.includes('@')) {
                document.getElementById('login-email-error').style.display = 'block';
                hasError = true;
            }
            
            if (!password) {
                document.getElementById('login-password-error').style.display = 'block';
                hasError = true;
            }
            
            if (hasError) return;
            
            button.classList.add('loading');
            
            try {
                await signInWithEmailAndPassword(auth, email, password);
                
                console.log(`Connexion réussie pour ${email}`);
                logElement.textContent = 'Connexion réussie !';
                logElement.className = 'log-message success';
                logElement.style.display = 'block';
                
            } catch (error) {
                console.error(`Erreur connexion: ${error.message}`);
                
                let errorMessage = 'Erreur de connexion';
                if (error.code === 'auth/user-not-found') {
                    errorMessage = 'Aucun compte trouvé avec cet email';
                } else if (error.code === 'auth/wrong-password') {
                    errorMessage = 'Mot de passe incorrect';
                } else if (error.code === 'auth/invalid-email') {
                    errorMessage = 'Adresse email invalide';
                } else if (error.code === 'auth/too-many-requests') {
                    errorMessage = 'Trop de tentatives. Réessayez plus tard';
                }
                
                logElement.textContent = errorMessage;
                logElement.className = 'log-message error';
                logElement.style.display = 'block';
            }
            
            button.classList.remove('loading');
        }

        async function registerUser() {
            const email = document.getElementById('register-email').value.trim();
            const password = document.getElementById('register-password').value;
            const confirmPassword = document.getElementById('register-confirm-password').value;
            const button = document.getElementById('registerBtn');
            const logElement = document.getElementById('register-log');
            
            clearAuthErrors();
            
            let hasError = false;
            
            if (!email || !email.includes('@')) {
                document.getElementById('register-email-error').style.display = 'block';
                hasError = true;
            }
            
            if (password.length < 6) {
                document.getElementById('register-password-error').style.display = 'block';
                hasError = true;
            }
            
            if (password !== confirmPassword) {
                document.getElementById('register-confirm-password-error').style.display = 'block';
                hasError = true;
            }
            
            if (hasError) return;
            
            button.classList.add('loading');
            
            try {
                const userCredential = await createUserWithEmailAndPassword(auth, email, password);
                const user = userCredential.user;
                
                const userData = {
                    email: user.email,
                    displayName: user.displayName || 'Utilisateur',
                    createdAt: serverTimestamp(),
                    updatedAt: serverTimestamp(),
                    uid: user.uid
                };
                
                await setDoc(doc(db, "Users", user.uid), userData);
                
                console.log(`Inscription réussie pour ${email}`);
                logElement.textContent = 'Compte créé avec succès !';
                logElement.className = 'log-message success';
                logElement.style.display = 'block';
                
            } catch (error) {
                console.error(`Erreur inscription: ${error.message}`);
                
                let errorMessage = 'Erreur lors de la création du compte';
                if (error.code === 'auth/email-already-in-use') {
                    errorMessage = 'Un compte existe déjà avec cet email';
                } else if (error.code === 'auth/invalid-email') {
                    errorMessage = 'Adresse email invalide';
                } else if (error.code === 'auth/weak-password') {
                    errorMessage = 'Le mot de passe est trop faible';
                }
                
                logElement.textContent = errorMessage;
                logElement.className = 'log-message error';
                logElement.style.display = 'block';
            }
            
            button.classList.remove('loading');
        }

        async function loadUserData() {
            if (!currentUser) return;
            
            try {
                const userDoc = await getDoc(doc(db, "Users", currentUser.uid));
                
                if (userDoc.exists()) {
                    currentUserData = userDoc.data();
                } else {
                    const userData = {
                        email: currentUser.email,
                        displayName: currentUser.displayName || 'Utilisateur',
                        createdAt: serverTimestamp(),
                        updatedAt: serverTimestamp(),
                        uid: currentUser.uid
                    };
                    
                    await setDoc(doc(db, "Users", currentUser.uid), userData);
                    currentUserData = userData;
                }
                
                updateUserAvatar();
                console.log('Données utilisateur chargées');
                
            } catch (error) {
                console.error('Erreur chargement données utilisateur:', error);
            }
        }

        function updateUserAvatar() {
            const userAvatar = document.getElementById('user-avatar');
            if (currentUser && userAvatar) {
                const firstLetter = currentUser.email.charAt(0).toUpperCase();
                userAvatar.innerHTML = `<span class="text-white font-semibold">${firstLetter}</span>`;
            }
        }

        async function logoutUser() {
            try {
                await signOut(auth);
                console.log('Utilisateur déconnecté avec succès');
                showNotification("Déconnecté avec succès", "success");
                
                isLoggedIn = false;
                currentUser = null;
                currentUserData = null;
                
                showAuthScreen();
                
            } catch (error) {
                console.error(`Erreur déconnexion: ${error.message}`);
                showNotification("Erreur lors de la déconnexion", "error");
            }
        }

        // Navigation functionality
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                const tabType = this.getAttribute('data-tab');
                
                // Update navigation indicators
                document.querySelectorAll('.nav-tab').forEach(t => {
                    const indicator = t.querySelector('.nav-indicator');
                    indicator.style.width = '0';
                    t.classList.add('text-text-secondary');
                    t.classList.remove('text-text-primary');
                });
                
                // Activate current tab
                this.classList.remove('text-text-secondary');
                this.classList.add('text-text-primary');
                const indicator = this.querySelector('.nav-indicator');
                indicator.style.width = '32px';

                // Show appropriate content
                showTabContent(tabType);
                previousTab = tabType;
            });
        });

        function showTabContent(tabType) {
            // Hide all sections and headers
            document.getElementById('featured-section').classList.add('hidden');
            document.getElementById('apps-section').classList.add('hidden');
            document.getElementById('search-section').classList.add('hidden');
            document.getElementById('detail-section').classList.add('hidden');
            document.getElementById('main-header').classList.add('hidden');
            document.getElementById('search-header').classList.add('hidden');
            document.getElementById('detail-header').classList.add('hidden');

            switch(tabType) {
                case 'featured':
                    document.getElementById('main-header').classList.remove('hidden');
                    document.getElementById('featured-section').classList.remove('hidden');
                    break;
                case 'apps':
                    document.getElementById('main-header').classList.remove('hidden');
                    document.getElementById('apps-section').classList.remove('hidden');
                    break;
                case 'search':
                    document.getElementById('search-header').classList.remove('hidden');
                    document.getElementById('search-section').classList.remove('hidden');
                    setTimeout(() => document.getElementById('search-input').focus(), 100);
                    break;
            }
        }

        function showAppDetail(appId) {
            const app = appData[appId];
            if (!app) return;

            // Update detail content
            document.getElementById('detail-app-icon').className = `w-24 h-24 bg-gradient-to-br ${app.color} app-icon flex items-center justify-center flex-shrink-0`;
            document.getElementById('detail-app-icon').innerHTML = getIconSVG(app.icon, 'w-12 h-12');
            document.getElementById('detail-app-title').textContent = app.name;
            document.getElementById('detail-app-developer').textContent = app.developer;
            document.getElementById('detail-app-category').textContent = app.category;
            document.getElementById('detail-app-rating').textContent = app.rating;
            document.getElementById('detail-app-size').textContent = app.size;
            document.getElementById('detail-app-description').innerHTML = formatDescription(app.description);

            // Show detail section
            document.getElementById('featured-section').classList.add('hidden');
            document.getElementById('apps-section').classList.add('hidden');
            document.getElementById('search-section').classList.add('hidden');
            document.getElementById('main-header').classList.add('hidden');
            document.getElementById('search-header').classList.add('hidden');
            
            document.getElementById('detail-header').classList.remove('hidden');
            document.getElementById('detail-section').classList.remove('hidden');
        }

        function formatDescription(description) {
            return description
                .split('\n\n')
                .map(paragraph => {
                    if (paragraph.includes('•')) {
                        const lines = paragraph.split('\n');
                        const title = lines[0];
                        const items = lines.slice(1);
                        return `<p class="mb-4">${title}</p><ul class="list-disc list-inside space-y-1 mb-4">${items.map(item => `<li>${item.replace('• ', '')}</li>`).join('')}</ul>`;
                    }
                    return `<p class="mb-4">${paragraph}</p>`;
                })
                .join('');
        }

        // Back button functionality
        document.getElementById('back-btn').addEventListener('click', function() {
            const appsTab = document.querySelector('[data-tab="apps"]');
            appsTab.click();
        });

        document.getElementById('detail-back-btn').addEventListener('click', function() {
            const targetTab = document.querySelector(`[data-tab="${previousTab}"]`);
            targetTab.click();
        });

        // App item click functionality
        document.querySelectorAll('.app-item').forEach(item => {
            item.addEventListener('click', function() {
                const appId = this.getAttribute('data-app');
                if (appId) {
                    showAppDetail(appId);
                }
            });
        });

        // Download button functionality
        document.getElementById('download-btn').addEventListener('click', function() {
            this.innerHTML = `
                <div class="flex items-center justify-center space-x-2">
                    <svg class="w-5 h-5 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                    </svg>
                    <span>Téléchargement...</span>
                </div>
            `;
            
            setTimeout(() => {
                this.innerHTML = `
                    <div class="flex items-center justify-center space-x-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                        </svg>
                        <span>Téléchargé</span>
                    </div>
                `;
                this.classList.remove('download-btn');
                this.classList.add('bg-green-600');
            }, 2000);
        });

        // Search functionality
        document.getElementById('search-input').addEventListener('input', function() {
            const query = this.value.toLowerCase().trim();
            const searchResults = document.getElementById('search-results');
            
            if (query.length === 0) {
                searchResults.innerHTML = `
                    <div class="text-center py-16">
                        <div class="w-20 h-20 mx-auto mb-6 glass rounded-3xl flex items-center justify-center">
                            <svg class="w-10 h-10 text-text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-semibold mb-2">Rechercher des applications</h3>
                        <p class="text-text-secondary">Découvrez de nouvelles applications</p>
                    </div>
                `;
                return;
            }

            // Search in app data
            const filteredApps = Object.entries(appData).filter(([id, app]) => 
                app.name.toLowerCase().includes(query) || 
                app.category.toLowerCase().includes(query) ||
                app.developer.toLowerCase().includes(query)
            );

            if (filteredApps.length === 0) {
                searchResults.innerHTML = `
                    <div class="text-center py-16">
                        <div class="w-20 h-20 mx-auto mb-6 glass rounded-3xl flex items-center justify-center">
                            <svg class="w-10 h-10 text-text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0118 12a8 8 0 01-2.083 5.344M6 12H4a8 8 0 0116 0h-2m-6 2.5v5"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-semibold mb-2">Aucun résultat</h3>
                        <p class="text-text-secondary">Aucune application trouvée pour "${query}"</p>
                    </div>
                `;
            } else {
                searchResults.innerHTML = `
                    <div class="space-y-1">
                        <h3 class="text-lg font-semibold mb-4">Résultats pour "${query}"</h3>
                        ${filteredApps.map(([id, app]) => `
                            <div class="app-item flex items-center py-3 rounded-lg transition-colors cursor-pointer" data-app="${id}">
                                <div class="w-14 h-14 bg-gradient-to-br ${app.color} app-icon flex items-center justify-center mr-4">
                                    ${getIconSVG(app.icon)}
                                </div>
                                <div class="flex-1">
                                    <h3 class="text-white font-medium text-base">${app.name}</h3>
                                    <p class="text-text-secondary text-sm">${app.developer} • ${app.category.split(' •')[0]}</p>
                                    <div class="flex items-center text-xs text-text-secondary mt-1">
                                        <span class="flex items-center">
                                            <span class="text-yellow-400 mr-1">${app.rating}</span>
                                            <svg class="w-3 h-3 text-yellow-400 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                            </svg>
                                        </span>
                                        <span class="mr-2">•</span>
                                        <span class="mr-2">${app.size}</span>
                                        <span class="mr-2">•</span>
                                        <span>${app.downloads}</span>
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;

                // Add click handlers to search results
                searchResults.querySelectorAll('.app-item[data-app]').forEach(item => {
                    item.addEventListener('click', function() {
                        const appId = this.getAttribute('data-app');
                        if (appId) {
                            showAppDetail(appId);
                        }
                    });
                });
            }
        });

        function getIconSVG(iconType, sizeClass = 'w-8 h-8') {
            const icons = {
                check: `<svg class="${sizeClass} text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>`,
                chart: `<svg class="${sizeClass} text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/></svg>`,
                bolt: `<svg class="${sizeClass} text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>`,
                text: `<span class="text-white font-bold text-lg">SP</span>`
            };
            return icons[iconType] || icons.check;
        }

        // Logout functionality
        document.getElementById('logout-btn').addEventListener('click', logoutUser);

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            showLoading();
            setupAuth();
            
            console.log('P.Soft Store initialisé avec authentification Firebase');
            
            setTimeout(() => {
                if (!isLoggedIn) {
                    hideLoading();
                }
            }, 3000);
        });
    </script>
</body>
</html>
